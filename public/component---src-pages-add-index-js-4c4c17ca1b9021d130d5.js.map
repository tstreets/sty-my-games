{"version":3,"file":"component---src-pages-add-index-js-4c4c17ca1b9021d130d5.js","mappings":"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","sources":["webpack://sty-my-games/./src/components/Add/GamePreview/index.js","webpack://sty-my-games/./src/components/WizardForm/index.js","webpack://sty-my-games/./src/functions/atlas.js","webpack://sty-my-games/./src/pages/add/index.js"],"sourcesContent":["import React from 'react';\r\nimport { Button, Header } from 'semantic-ui-react';\r\n\r\nconst GamePreview = ({\r\n    id,\r\n    description_preview,\r\n    image_url,\r\n    max_players,\r\n    min_players,\r\n    max_playtime,\r\n    min_playtime,\r\n    mechanics,\r\n    min_age,\r\n    name,\r\n    publisher,\r\n    year_published,\r\n    mechanicsRef,\r\n    toggleSelectGame,\r\n    selectedGame,\r\n}) => {\r\n    const mechanicsList = mechanicsRef.filter(m =>\r\n        mechanics.find(mech => mech.id === m.id)\r\n    );\r\n\r\n    function selectGame() {\r\n        toggleSelectGame(\r\n            id,\r\n            {\r\n                id,\r\n                description: description_preview,\r\n                maxPlayers: max_players,\r\n                minPlayers: min_players,\r\n                maxPlaytime: max_playtime,\r\n                minPlaytime: min_playtime,\r\n                backupImage: image_url,\r\n                minAge: min_age,\r\n                year: year_published,\r\n            },\r\n            mechanicsList\r\n        );\r\n    }\r\n\r\n    const mechanicsP = mechanicsList.map((m, i) => {\r\n        return <React.Fragment key={`mech-${i}`}>{m.name}, </React.Fragment>;\r\n    });\r\n\r\n    const color = selectedGame.id === id ? 'red' : null;\r\n    const text = selectedGame.id === id ? 'Unselect' : 'Select';\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Header as='h3'>{name}</Header>\r\n            <p>{description_preview || 'No description'}</p>\r\n            <p>\r\n                Players: {min_players} - {max_players}\r\n            </p>\r\n            <p>\r\n                Playtime: {min_playtime} - {max_playtime}\r\n            </p>\r\n            <p>Ages {min_age}+</p>\r\n            <p>Company: {publisher}</p>\r\n            <p>Mechanics: {mechanicsP}</p>\r\n            <Button\r\n                size='tiny'\r\n                content={text}\r\n                onClick={selectGame}\r\n                color={color}\r\n            />\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default GamePreview;\r\n","import React from 'react';\r\nimport { Form, Button, Icon, Header, Grid } from 'semantic-ui-react';\r\n\r\nrequire('./index.css');\r\n\r\nexport const WizardFormHeader = ({ children, content }) => {\r\n    return <React.Fragment>{children || content}</React.Fragment>;\r\n};\r\n\r\nexport const WizardFormPage = ({ header, content, children }) => {\r\n    const isChildrenArr = !!children?.length;\r\n\r\n    const otherChildren = isChildrenArr\r\n        ? children.filter(c => {\r\n              if (typeof c === 'string') return false;\r\n              return c?.type?.name !== 'WizardFormHeader';\r\n          })\r\n        : null;\r\n\r\n    const headerChild = isChildrenArr\r\n        ? children.find(c => {\r\n              if (typeof c === 'string') return false;\r\n              return c?.type?.name === 'WizardFormHeader';\r\n          })\r\n        : null;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <fieldset>\r\n                <legend>{header || headerChild}</legend>\r\n                {!isChildrenArr ? children || content : otherChildren}\r\n            </fieldset>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport const WizardFormButtons = ({\r\n    pageNumber,\r\n    setPageNumber,\r\n    totalPages,\r\n    onDone,\r\n}) => {\r\n    function goBack() {\r\n        setPageNumber(pageNumber - 1);\r\n    }\r\n\r\n    function goForward() {\r\n        setPageNumber(pageNumber + 1);\r\n    }\r\n\r\n    function formComplete() {\r\n        onDone();\r\n        setPageNumber(0);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Form.Group className='btns' widths='equal'>\r\n                <Form.Field>\r\n                    {pageNumber > 0 ? (\r\n                        <Button fluid onClick={goBack}>\r\n                            <Icon name='arrow left' />\r\n                            Back\r\n                        </Button>\r\n                    ) : null}\r\n                </Form.Field>\r\n                <Form.Field>\r\n                    {pageNumber < totalPages ? (\r\n                        <Button color='green' fluid onClick={goForward}>\r\n                            Next\r\n                            <Icon name='arrow right' />\r\n                        </Button>\r\n                    ) : (\r\n                        <Button color='green' fluid onClick={formComplete}>\r\n                            Done\r\n                            <Icon name='check' style={{ paddingLeft: '8px' }} />\r\n                        </Button>\r\n                    )}\r\n                </Form.Field>\r\n            </Form.Group>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst WizardForm = ({\r\n    fluid,\r\n    className,\r\n    style,\r\n    children,\r\n    pages = [],\r\n    header,\r\n    onDone,\r\n}) => {\r\n    const [pageNumber, setPageNumber] = React.useState(0);\r\n    const isChildrenArr = !!children?.length;\r\n\r\n    let classString = 'wizard';\r\n    if (className) classString += ` ${className}`;\r\n    if (fluid) classString += ` fluid`;\r\n\r\n    const buttons = isChildrenArr\r\n        ? children.find(c => {\r\n              if (typeof c === 'string') return false;\r\n              return c.type.name === 'WizardFormButtons';\r\n          })\r\n        : children &&\r\n          typeof children !== 'string' &&\r\n          children?.type?.name === 'WizardFormButtons'\r\n        ? children\r\n        : null;\r\n\r\n    const wizardPages = isChildrenArr\r\n        ? children.filter(c => {\r\n              if (typeof c === 'string') return false;\r\n              return c.type.name === 'WizardFormPage';\r\n          })\r\n        : children &&\r\n          typeof children !== 'string' &&\r\n          children?.type?.name === 'WizardFormPage'\r\n        ? [children]\r\n        : null;\r\n\r\n    const wizardHeader = isChildrenArr\r\n        ? children.find(c => {\r\n              if (typeof c === 'string') return false;\r\n              return c.type.name === 'WizardFormHeader';\r\n          })\r\n        : children &&\r\n          typeof children !== 'string' &&\r\n          children?.type?.name === 'WizardFormHeader'\r\n        ? children\r\n        : null;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Form className={classString} style={style}>\r\n                <Header as='h1'>\r\n                    {wizardHeader || header || 'Wizard Form'}\r\n                </Header>\r\n                <Grid columns='1'>\r\n                    <Grid.Column textAlign='center'>\r\n                        {(wizardPages || pages).map((p, i) => {\r\n                            return (\r\n                                <React.Fragment key={`page-circle-${i}`}>\r\n                                    <Icon\r\n                                        name={`circle${\r\n                                            i !== pageNumber ? ' outline' : ''\r\n                                        }`}\r\n                                    />\r\n                                </React.Fragment>\r\n                            );\r\n                        })}\r\n                    </Grid.Column>\r\n                </Grid>\r\n\r\n                {(wizardPages || pages).map((p, i) => {\r\n                    const isCur = i === pageNumber;\r\n                    const isComponent = p.type;\r\n                    return (\r\n                        <React.Fragment key={`wizard-form-page-${i}`}>\r\n                            <div\r\n                                style={{\r\n                                    display: isCur ? 'block' : 'none',\r\n                                }}\r\n                            >\r\n                                {isComponent ? (\r\n                                    p\r\n                                ) : (\r\n                                    <WizardFormPage>\r\n                                        <WizardFormHeader>\r\n                                            {p.header}\r\n                                        </WizardFormHeader>\r\n                                        {p.content}\r\n                                    </WizardFormPage>\r\n                                )}\r\n                            </div>\r\n                        </React.Fragment>\r\n                    );\r\n                })}\r\n\r\n                <WizardFormButtons\r\n                    buttons={buttons}\r\n                    pageNumber={pageNumber}\r\n                    setPageNumber={setPageNumber}\r\n                    totalPages={(wizardPages || pages).length - 1}\r\n                    onDone={onDone}\r\n                />\r\n            </Form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nWizardForm.Buttons = WizardFormButtons;\r\nWizardForm.Page = WizardFormPage;\r\nWizardForm.Header = WizardFormHeader;\r\n\r\nexport default WizardForm;\r\n","const clientId = `JLBr5npPhV`;\r\n\r\nconst mechanicsApi = `https://api.boardgameatlas.com/api/game/mechanics?client_id=${clientId}`;\r\n\r\nexport async function getMechanics() {\r\n    try {\r\n        const res = await fetch(mechanicsApi);\r\n        const objRes = await res.json();\r\n        return objRes.mechanics || [];\r\n    } catch (e) {\r\n        return [];\r\n    }\r\n}\r\n\r\nexport async function getGameSearch(gameName) {\r\n    const gameSearchApi = `https://api.boardgameatlas.com/api/search?name=${gameName}&client_id=${clientId}`;\r\n    try {\r\n        const res = await fetch(gameSearchApi);\r\n        const objRes = await res.json();\r\n        return objRes.games || [];\r\n    } catch (e) {\r\n        return [];\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Input, Form, Button, Select, TextArea } from 'semantic-ui-react';\r\nimport GamePreview from '../../components/Add/GamePreview';\r\n\r\nimport WizardForm from '../../components/WizardForm';\r\nimport { getGameSearch, getMechanics } from '../../functions/atlas';\r\nimport { addGame } from '../../functions/db';\r\n\r\nconst Add = ({ location: { state } }) => {\r\n    const initialGame = {\r\n        name: '',\r\n        company: '',\r\n        mechanics: [],\r\n        minPlayers: 0,\r\n        maxPlayers: 10,\r\n        minPlaytime: 5,\r\n        maxPlaytime: 15,\r\n        minAge: 3,\r\n        description: '',\r\n        id: 0,\r\n        backupImage: '',\r\n        year: '',\r\n    };\r\n\r\n    const [game, setGame] = React.useState(initialGame);\r\n    const [mechanics, setMechanics] = React.useState(state?.mechanics || null);\r\n    const [mechanicsLoading, setMechanicsLoading] = React.useState(false);\r\n    const [searchResults, setSearchResults] = React.useState([]);\r\n    const [customMechanics, setCustomMechanics] = React.useState([]);\r\n    const [addingGame, setAddingGame] = React.useState(false);\r\n    const [isScrollDown, setIsScrollDown] = React.useState(true);\r\n\r\n    React.useState(() => {\r\n        if (!mechanics && !mechanicsLoading) {\r\n            getAllMechanics();\r\n        }\r\n    });\r\n\r\n    async function getAllMechanics() {\r\n        setMechanicsLoading(true);\r\n        const newMechanics = await getMechanics();\r\n        storeMechanics(newMechanics);\r\n        setMechanics(newMechanics);\r\n        setMechanicsLoading(false);\r\n    }\r\n\r\n    function storeMechanics(newMechanics) {\r\n        if (typeof window !== 'undefined') {\r\n            localStorage.state = JSON.stringify({\r\n                ...(state || {}),\r\n                mechanics: newMechanics,\r\n            });\r\n        }\r\n    }\r\n\r\n    async function getCloseGameSearch() {\r\n        if (!game.name) return;\r\n        const newSearchResults = await getGameSearch(game.name);\r\n        setSearchResults(newSearchResults);\r\n    }\r\n\r\n    function changeGame(e, { name, value }) {\r\n        setGame({ ...game, [name]: value });\r\n        if (searchResults.length) setSearchResults([]);\r\n    }\r\n\r\n    function addGameMechanic(e, { value }) {\r\n        setCustomMechanics([...customMechanics, { name: value }]);\r\n    }\r\n\r\n    function toggleSelectGame(gameId, newGame, mechanicsList) {\r\n        if (game.id === gameId) {\r\n            setGame({\r\n                ...initialGame,\r\n                name: game.name,\r\n                company: game.company,\r\n            });\r\n        } else {\r\n            setGame({\r\n                ...game,\r\n                ...newGame,\r\n                mechanics: mechanicsList.map(m => m.name),\r\n            });\r\n        }\r\n        setCustomMechanics([]);\r\n    }\r\n\r\n    async function attemptAddGame() {\r\n        if (!game.id || addingGame) return;\r\n        setAddingGame(true);\r\n        try {\r\n            const gameData = { ...game };\r\n            delete gameData.id;\r\n            const newId = await addGame({\r\n                gameData: gameData,\r\n                user: state.user,\r\n            });\r\n            if (newId) {\r\n                setGame(initialGame);\r\n                setSearchResults([]);\r\n            }\r\n        } catch {}\r\n        setAddingGame(false);\r\n    }\r\n\r\n    function scrollPage() {\r\n        setIsScrollDown(!isScrollDown);\r\n        const contentRef = document.querySelector('.content');\r\n        const newTop = isScrollDown ? contentRef.scrollHeight : 0;\r\n        contentRef.scrollTo({ top: newTop, behavior: 'smooth' });\r\n    }\r\n\r\n    const mechanicsOptions = mechanics\r\n        ? [...customMechanics, ...mechanics].map(m => ({\r\n              text: m.name,\r\n              value: m.name,\r\n          }))\r\n        : [];\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <WizardForm fluid onDone={attemptAddGame}>\r\n                <WizardForm.Header>Add New Game</WizardForm.Header>\r\n                <WizardForm.Page>\r\n                    <WizardForm.Header>Base Info</WizardForm.Header>\r\n                    <Form.Field>\r\n                        <label htmlFor='name'>Name</label>\r\n                        <Input\r\n                            id='name'\r\n                            name='name'\r\n                            value={game.name}\r\n                            onChange={changeGame}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label htmlFor='company'>Company</label>\r\n                        <Input\r\n                            id='company'\r\n                            name='company'\r\n                            value={game.company}\r\n                            onChange={changeGame}\r\n                        />\r\n                    </Form.Field>\r\n                </WizardForm.Page>\r\n                <WizardForm.Page>\r\n                    <WizardForm.Header>Search More Details</WizardForm.Header>\r\n                    <Button\r\n                        type='button'\r\n                        icon='search'\r\n                        content='Search Game'\r\n                        onClick={getCloseGameSearch}\r\n                    />\r\n                    {searchResults.map((g, i) => {\r\n                        return (\r\n                            <GamePreview\r\n                                key={`game-preview-${i}`}\r\n                                {...g}\r\n                                mechanicsRef={mechanics}\r\n                                toggleSelectGame={toggleSelectGame}\r\n                                selectedGame={game}\r\n                            />\r\n                        );\r\n                    })}\r\n                    {searchResults.length > 3 && game.id ? (\r\n                        <Button\r\n                            content={`To ${isScrollDown ? 'Bottom' : 'Top'}`}\r\n                            icon={`arrow ${isScrollDown ? 'down' : 'up'}`}\r\n                            circular\r\n                            color='blue'\r\n                            style={{\r\n                                position: 'fixed',\r\n                                bottom: '20%',\r\n                                left: '75%',\r\n                            }}\r\n                            onClick={scrollPage}\r\n                        />\r\n                    ) : null}\r\n                </WizardForm.Page>\r\n                <WizardForm.Page>\r\n                    <WizardForm.Header>Finalize Details</WizardForm.Header>\r\n\r\n                    <Form.Field>\r\n                        <label htmlFor='name'>Name</label>\r\n                        <Input\r\n                            id='name'\r\n                            name='name'\r\n                            value={game.name}\r\n                            onChange={changeGame}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label htmlFor='company'>Company</label>\r\n                        <Input\r\n                            id='company'\r\n                            name='company'\r\n                            value={game.company}\r\n                            onChange={changeGame}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label htmlFor='description'>Description</label>\r\n                        <TextArea\r\n                            id='description'\r\n                            name='description'\r\n                            value={game.description || ''}\r\n                            onChange={changeGame}\r\n                        />\r\n                    </Form.Field>\r\n                    <Form.Field>\r\n                        <label htmlFor='mechanics'>Game Mechanics</label>\r\n                        <Select\r\n                            id='mechanics'\r\n                            name='mechanics'\r\n                            value={game.mechanics}\r\n                            onChange={changeGame}\r\n                            options={mechanicsOptions}\r\n                            multiple\r\n                            clearable\r\n                            search\r\n                            selectOnBlur={false}\r\n                            allowAdditions\r\n                            onAddItem={addGameMechanic}\r\n                        />\r\n                    </Form.Field>\r\n                </WizardForm.Page>\r\n            </WizardForm>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Add;\r\n"],"names":["id","description_preview","image_url","max_players","min_players","max_playtime","min_playtime","mechanics","min_age","name","publisher","year_published","mechanicsRef","toggleSelectGame","selectedGame","mechanicsList","filter","m","find","mech","mechanicsP","map","i","key","color","text","Header","as","Button","size","content","onClick","description","maxPlayers","minPlayers","maxPlaytime","minPlaytime","backupImage","minAge","year","require","WizardFormHeader","children","WizardFormPage","header","isChildrenArr","length","otherChildren","c","type","headerChild","WizardFormButtons","pageNumber","setPageNumber","totalPages","onDone","Form","className","widths","fluid","Icon","style","paddingLeft","WizardForm","pages","React","classString","buttons","wizardPages","wizardHeader","Grid","columns","textAlign","p","isCur","isComponent","display","Buttons","Page","clientId","mechanicsApi","getMechanics","fetch","res","json","objRes","getGameSearch","gameName","gameSearchApi","games","state","location","initialGame","company","game","setGame","setMechanics","mechanicsLoading","setMechanicsLoading","searchResults","setSearchResults","customMechanics","setCustomMechanics","addingGame","setAddingGame","isScrollDown","setIsScrollDown","storeMechanics","newMechanics","window","localStorage","JSON","stringify","newSearchResults","changeGame","e","value","gameId","newGame","gameData","addGame","user","getAllMechanics","mechanicsOptions","htmlFor","Input","onChange","icon","g","circular","position","bottom","left","contentRef","document","querySelector","newTop","scrollHeight","scrollTo","top","behavior","TextArea","Select","options","multiple","clearable","search","selectOnBlur","allowAdditions","onAddItem"],"sourceRoot":""}