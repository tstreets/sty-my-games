{"version":3,"file":"component---src-pages-add-index-js-e3f2b749d7b3620479fe.js","mappings":"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","sources":["webpack://sty-my-games/./src/add/AddGameForm.js","webpack://sty-my-games/./src/pages/add/index.js"],"sourcesContent":["import React from 'react';\r\nimport { Button, Form, Header, Image, Input } from 'semantic-ui-react';\r\n\r\nimport FormField from '../components/FormField';\r\nimport { addGame } from '../functions/db';\r\n\r\nconst AddGameForm = () => {\r\n    const initialNewGame = {\r\n        name: '',\r\n        age: 2,\r\n        minPlayers: 1,\r\n        maxPlayers: 2,\r\n        company: '',\r\n        time: 0,\r\n    };\r\n\r\n    const [newGame, setNewGame] = React.useState(initialNewGame);\r\n    const [pic, setPic] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        if (pic && pic.file && !pic.src) {\r\n            startPicSrcLoad();\r\n        }\r\n    });\r\n\r\n    function addNewGame() {\r\n        try {\r\n            addGame(newGame, pic);\r\n            setNewGame(initialNewGame);\r\n            setPic(null);\r\n        } catch (e) {\r\n            console.warn(`Error adding game: ${e}`);\r\n        }\r\n    }\r\n\r\n    function changeNewGame(e, { name, value }) {\r\n        setNewGame({ ...newGame, [name]: value });\r\n    }\r\n\r\n    function changePic(e, { value }) {\r\n        const currentFile = e.target.files[0];\r\n\r\n        setPic({\r\n            file: currentFile || null,\r\n            name: currentFile.name || '',\r\n            src: null,\r\n            value,\r\n        });\r\n    }\r\n\r\n    function getPicSrc() {\r\n        return new Promise((res, rej) => {\r\n            try {\r\n                const fr = new FileReader();\r\n                fr.onload = function () {\r\n                    res(this.result);\r\n                };\r\n                fr.readAsDataURL(pic.file);\r\n            } catch (e) {\r\n                rej(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    async function startPicSrcLoad() {\r\n        try {\r\n            const src = await getPicSrc();\r\n            setPic({ ...pic, src });\r\n        } catch (e) {\r\n            console.warn(e);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <Header className='page-header' as='h1'>\r\n                Add New Game\r\n            </Header>\r\n            <Form className='search-form'>\r\n                <FormField\r\n                    control={Input}\r\n                    name='name'\r\n                    label='Name:'\r\n                    onChange={changeNewGame}\r\n                    value={newGame.name}\r\n                />\r\n                <Form.Group widths='equal'>\r\n                    <FormField\r\n                        control={Input}\r\n                        name='time'\r\n                        label={`Time (${newGame.time}mins)`}\r\n                        type='range'\r\n                        min='5'\r\n                        max='120'\r\n                        step='5'\r\n                        onChange={changeNewGame}\r\n                        value={newGame.time}\r\n                    />\r\n                    <FormField\r\n                        control={Input}\r\n                        name='age'\r\n                        label={`Ages ${newGame.age}+`}\r\n                        type='range'\r\n                        min='2'\r\n                        max='19'\r\n                        step='1'\r\n                        onChange={changeNewGame}\r\n                        value={newGame.age}\r\n                    />\r\n                    <FormField\r\n                        control={Input}\r\n                        name='minPlayers'\r\n                        label='Min. Players:'\r\n                        onChange={changeNewGame}\r\n                        value={newGame.minPlayers}\r\n                    />\r\n                    <FormField\r\n                        control={Input}\r\n                        name='maxPlayers'\r\n                        label='Max. Players:'\r\n                        onChange={changeNewGame}\r\n                        value={newGame.maxPlayers}\r\n                    />\r\n                </Form.Group>\r\n                <FormField\r\n                    control={Input}\r\n                    name='company'\r\n                    label='Company:'\r\n                    onChange={changeNewGame}\r\n                    value={newGame.company}\r\n                />\r\n                <FormField\r\n                    control={Input}\r\n                    name='pic'\r\n                    label='Picture:'\r\n                    onChange={changePic}\r\n                    type='file'\r\n                    accept='image/*'\r\n                    value={pic?.value}\r\n                />\r\n                {pic && pic.file ? (\r\n                    <React.Fragment>\r\n                        <Form.Field>\r\n                            <label>Picture Preview</label>\r\n                            <Image src={pic.src} size='medium' />\r\n                        </Form.Field>\r\n                    </React.Fragment>\r\n                ) : null}\r\n                <Form.Field>\r\n                    <Button\r\n                        fluid\r\n                        content='Add Game'\r\n                        icon='plus'\r\n                        className='bg-dark text-light-side'\r\n                        type='button'\r\n                        circular\r\n                        onClick={addNewGame}\r\n                    />\r\n                </Form.Field>\r\n            </Form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default AddGameForm;\r\n","import React from 'react';\r\nimport 'semantic-ui-css/semantic.css';\r\nimport { Container } from 'semantic-ui-react';\r\n\r\nimport '../../css/styles.css';\r\nimport AddGameForm from '../../add/AddGameForm';\r\nimport Navbar from '../../components/Navbar';\r\n\r\nconst Add = ({ location: { state } }) => {\r\n    return (\r\n        <React.Fragment>\r\n            <Container className='fullsite'>\r\n                <AddGameForm />\r\n                <Navbar className='mt-auto' state={state} />\r\n            </Container>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Add;\r\n"],"names":["initialNewGame","name","age","minPlayers","maxPlayers","company","time","React","newGame","setNewGame","pic","setPic","changeNewGame","e","value","getPicSrc","Promise","res","rej","fr","FileReader","onload","this","result","readAsDataURL","file","src","console","warn","startPicSrcLoad","Header","className","as","Form","FormField","control","Input","label","onChange","widths","type","min","max","step","currentFile","target","files","accept","Image","size","Button","fluid","content","icon","circular","onClick","addGame","state","location","Container","Navbar"],"sourceRoot":""}