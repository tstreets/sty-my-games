{"version":3,"file":"component---src-pages-login-index-js-11e5ae1d54eb7fcf6afa.js","mappings":"2MAoDA,WAAeA,EAAAA,EAAAA,KANf,YACI,MAAO,CACHC,KAF0B,EAARC,KAEPD,QARQ,CACvBE,QADuB,SACfC,GACJ,MAAO,CAAEC,KAAM,gBAAiBJ,KAAMG,KAU9C,EA7Cc,SAAC,GAA4C,IAA9BE,EAA6B,EAAzCC,SAAYD,MAASL,EAAoB,EAApBA,KAAME,EAAc,EAAdA,QACxC,EAA8BK,EAAAA,UAAe,GAAtCC,EAAP,KAAgBC,EAAhB,KADsD,wCAGtD,4FACQD,EADR,wDAEIC,GAAW,GAFf,mBAI6CC,EAAAA,EAAAA,MAJ7C,gBAIgBC,EAJhB,EAIgBA,MAAOC,EAJvB,EAIuBA,YACXD,GACAT,EAAQ,CACJS,MAAAA,EACAC,YAAAA,IARhB,0DAYIH,GAAW,GAZf,2DAHsD,sBAkBtD,OACI,gBAAC,WAAD,KACMT,EAGE,gBAAC,WAAD,KACI,gBAAC,EAAAa,KAAD,CAAMC,IAAIT,MAAAA,OAAA,EAAAA,EAAOU,eAAgB,KAC7B,gBAAC,IAAD,yBAJR,gBAAC,IAAD,CAAQC,QArBkC,4CAqB1C","sources":["webpack://sty-my-games/./src/pages/login/index.js"],"sourcesContent":["import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nimport { loginUser } from '../../functions/db';\r\n\r\nconst Login = ({ location: { state }, user, setUser }) => {\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    async function attemptLogin() {\r\n        if (loading) return;\r\n        setLoading(true);\r\n        try {\r\n            const { email, displayName } = await loginUser();\r\n            if (email) {\r\n                setUser({\r\n                    email,\r\n                    displayName,\r\n                });\r\n            }\r\n        } catch {}\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {!user ? (\r\n                <Button onClick={attemptLogin}>Login</Button>\r\n            ) : (\r\n                <React.Fragment>\r\n                    <Link to={state?.originalPage || '/'}>\r\n                        <Button>Return to App!</Button>\r\n                    </Link>\r\n                </React.Fragment>\r\n            )}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setUser(newUser) {\r\n        return { type: 'authUserLogin', user: newUser };\r\n    },\r\n};\r\n\r\nfunction mapStateToProp({ auth }) {\r\n    return {\r\n        user: auth.user,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProp, mapDispatchToProps)(Login);\r\n"],"names":["connect","user","auth","setUser","newUser","type","state","location","React","loading","setLoading","loginUser","email","displayName","Link","to","originalPage","onClick"],"sourceRoot":""}