{"version":3,"file":"component---src-pages-index-js-36f9d3ceb6ade7953c59.js","mappings":"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","sources":["webpack://sty-my-games/./node_modules/semantic-ui-react/dist/es/elements/Header/HeaderSubheader.js","webpack://sty-my-games/./node_modules/semantic-ui-react/dist/es/elements/Header/HeaderContent.js","webpack://sty-my-games/./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js","webpack://sty-my-games/./src/components/GameCard/index.js","webpack://sty-my-games/./src/pages/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport React from 'react';\nimport { childrenUtils, createShorthandFactory, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\n/**\n * Headers may contain subheaders.\n */\n\nfunction HeaderSubheader(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = cx('sub header', className);\n  var rest = getUnhandledProps(HeaderSubheader, props);\n  var ElementType = getElementType(HeaderSubheader, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nHeaderSubheader.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nHeaderSubheader.create = createShorthandFactory(HeaderSubheader, function (content) {\n  return {\n    content: content\n  };\n});\nexport default HeaderSubheader;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport cx from 'clsx';\nimport React from 'react';\nimport { childrenUtils, customPropTypes, getElementType, getUnhandledProps } from '../../lib';\n/**\n * Header content wraps the main content when there is an adjacent Icon or Image.\n */\n\nfunction HeaderContent(props) {\n  var children = props.children,\n      className = props.className,\n      content = props.content;\n  var classes = cx('content', className);\n  var rest = getUnhandledProps(HeaderContent, props);\n  var ElementType = getElementType(HeaderContent, props);\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), childrenUtils.isNil(children) ? content : children);\n}\n\nHeaderContent.handledProps = [\"as\", \"children\", \"className\", \"content\"];\nexport default HeaderContent;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _without from \"lodash-es/without\";\nimport cx from 'clsx';\nimport React from 'react';\nimport { childrenUtils, customPropTypes, getElementType, getUnhandledProps, SUI, useValueAndKey, useTextAlignProp, useKeyOrValueAndKey, useKeyOnly } from '../../lib';\nimport Icon from '../Icon';\nimport Image from '../Image';\nimport HeaderSubheader from './HeaderSubheader';\nimport HeaderContent from './HeaderContent';\n/**\n * A header provides a short summary of content\n */\n\nfunction Header(props) {\n  var attached = props.attached,\n      block = props.block,\n      children = props.children,\n      className = props.className,\n      color = props.color,\n      content = props.content,\n      disabled = props.disabled,\n      dividing = props.dividing,\n      floated = props.floated,\n      icon = props.icon,\n      image = props.image,\n      inverted = props.inverted,\n      size = props.size,\n      sub = props.sub,\n      subheader = props.subheader,\n      textAlign = props.textAlign;\n  var classes = cx('ui', color, size, useKeyOnly(block, 'block'), useKeyOnly(disabled, 'disabled'), useKeyOnly(dividing, 'dividing'), useValueAndKey(floated, 'floated'), useKeyOnly(icon === true, 'icon'), useKeyOnly(image === true, 'image'), useKeyOnly(inverted, 'inverted'), useKeyOnly(sub, 'sub'), useKeyOrValueAndKey(attached, 'attached'), useTextAlignProp(textAlign), 'header', className);\n  var rest = getUnhandledProps(Header, props);\n  var ElementType = getElementType(Header, props);\n\n  if (!childrenUtils.isNil(children)) {\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes\n    }), children);\n  }\n\n  var iconElement = Icon.create(icon, {\n    autoGenerateKey: false\n  });\n  var imageElement = Image.create(image, {\n    autoGenerateKey: false\n  });\n  var subheaderElement = HeaderSubheader.create(subheader, {\n    autoGenerateKey: false\n  });\n\n  if (iconElement || imageElement) {\n    return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n      className: classes\n    }), iconElement || imageElement, (content || subheaderElement) && /*#__PURE__*/React.createElement(HeaderContent, null, content, subheaderElement));\n  }\n\n  return /*#__PURE__*/React.createElement(ElementType, _extends({}, rest, {\n    className: classes\n  }), content, subheaderElement);\n}\n\nHeader.handledProps = [\"as\", \"attached\", \"block\", \"children\", \"className\", \"color\", \"content\", \"disabled\", \"dividing\", \"floated\", \"icon\", \"image\", \"inverted\", \"size\", \"sub\", \"subheader\", \"textAlign\"];\nHeader.Content = HeaderContent;\nHeader.Subheader = HeaderSubheader;\nexport default Header;","import React from 'react';\r\nimport { Link } from 'gatsby';\r\nimport { Header } from 'semantic-ui-react';\r\n\r\nexport const GameCardGroup = ({ children, content }) => {\r\n    return (\r\n        <React.Fragment>\r\n            <ul>{children || content}</ul>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst GameCard = ({ game }) => {\r\n    const tags = {\r\n        list: [],\r\n        count: 0,\r\n    };\r\n\r\n    game.mechanics.forEach(m => {\r\n        if (tags.count + m.length < 48) {\r\n            tags.list.push(m);\r\n            tags.count += m.length;\r\n        }\r\n    });\r\n\r\n    const descString = game.description\r\n        ? game.description\r\n              .split('')\r\n              .filter((a, i) => i < 150)\r\n              .join('')\r\n        : '';\r\n\r\n    const finalString =\r\n        descString.length < game.description.length\r\n            ? `${descString}...`\r\n            : descString.length\r\n            ? descString\r\n            : 'No description';\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <li className='gamecard'>\r\n                <Link to={`/game#/${game.id}`}>\r\n                    <Header className='gamecard-header' as='h3'>\r\n                        {game.name}\r\n                    </Header>\r\n                    <p className='gamecard-text'>{finalString}</p>\r\n                    <div\r\n                        className='gamecard-image'\r\n                        role='img'\r\n                        aria-label={game.name}\r\n                        style={{ backgroundImage: `url(${game.backupImage})` }}\r\n                    />\r\n                </Link>\r\n                <ul className='gamecard-otherinfo'>\r\n                    {/* 64 is max char length */}\r\n                    {tags.list.map((t, i) => {\r\n                        return (\r\n                            <li\r\n                                className='gamecard-tag'\r\n                                key={`game-card-tag-${i}`}\r\n                            >\r\n                                {t}\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n            </li>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nGameCard.Group = GameCardGroup;\r\n\r\nexport default GameCard;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nimport GameCard from '../components/GameCard';\r\nimport { getAllGames } from '../functions/db';\r\n\r\nimport { setAllGames } from '../reducers/gamesReducer';\r\n\r\nconst Home = ({ allGames, setAllGames }) => {\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        attemptGetAllGames();\r\n    });\r\n\r\n    async function attemptGetAllGames() {\r\n        if (loading || allGames) return;\r\n        setLoading(true);\r\n        try {\r\n            const newAllGames = await getAllGames();\r\n            setAllGames(newAllGames);\r\n        } catch {}\r\n        setLoading(false);\r\n    }\r\n\r\n    function reloadGames() {\r\n        if (loading) return;\r\n        setAllGames(null);\r\n    }\r\n\r\n    const sortedGames = allGames\r\n        ? allGames.sort(() => {\r\n              return Math.random() > 0.5 ? 1 : -1;\r\n          })\r\n        : [];\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <h2>Explore</h2>\r\n            <Button\r\n                style={{ position: 'fixed', top: '10%', right: '20px' }}\r\n                color='purple'\r\n                icon='sync'\r\n                onClick={reloadGames}\r\n                size='small'\r\n                aria-label='Reload Games'\r\n                content='Reload Games'\r\n            />\r\n            <GameCard.Group>\r\n                {allGames && allGames.length ? (\r\n                    sortedGames.map((g, i) => {\r\n                        return (\r\n                            <GameCard\r\n                                key={`game-card-${i}-${g.id}`}\r\n                                game={g}\r\n                            ></GameCard>\r\n                        );\r\n                    })\r\n                ) : allGames ? (\r\n                    <p>Sorry, no games available.</p>\r\n                ) : (\r\n                    <p>Please wait while the games are loading</p>\r\n                )}\r\n            </GameCard.Group>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setAllGames,\r\n};\r\n\r\nfunction mapStateToProps({ games }) {\r\n    return {\r\n        allGames: games.allGames,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n"],"names":["HeaderSubheader","props","children","className","content","classes","rest","getUnhandledProps","ElementType","getElementType","childrenUtils","handledProps","create","HeaderContent","Header","attached","block","color","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign","iconElement","Icon","autoGenerateKey","imageElement","Image","subheaderElement","Content","Subheader","GameCard","game","tags","list","count","mechanics","forEach","m","length","push","descString","description","split","filter","a","i","join","finalString","Link","to","id","as","name","role","style","backgroundImage","backupImage","map","t","key","Group","mapDispatchToProps","setAllGames","connect","allGames","games","React","loading","setLoading","getAllGames","newAllGames","attemptGetAllGames","sortedGames","sort","Math","random","Button","position","top","right","onClick","g"],"sourceRoot":""}