{"version":3,"file":"component---src-pages-login-index-js-fca06a5d23a2cb1b0a4a.js","mappings":"2MAyCMA,EAAqB,CACvBC,Q,OAAAA,IASJ,WAAeC,EAAAA,EAAAA,KANf,YACI,MAAO,CACHC,KAF0B,EAARC,KAEPD,QAIoBH,EAAvC,EA3Cc,SAAC,GAAuB,IAArBG,EAAoB,EAApBA,KAAMF,EAAc,EAAdA,QACnB,EAA8BI,EAAAA,UAAe,GAAtCC,EAAP,KAAgBC,EAAhB,KADiC,wCAGjC,4FACQD,EADR,wDAEIC,GAAW,GAFf,mBAI6CC,EAAAA,EAAAA,MAJ7C,gBAIgBC,EAJhB,EAIgBA,MAAOC,EAJvB,EAIuBA,YACXD,GACAR,EAAQ,CACJQ,MAAAA,EACAC,YAAAA,IARhB,0DAYIH,GAAW,GAZf,2DAHiC,sBAkBjC,OACI,gBAAC,WAAD,KACMJ,EAGE,gBAAC,WAAD,KACI,gBAAC,EAAAQ,KAAD,CAAMC,GAAG,KACL,gBAAC,IAAD,yBAJR,gBAAC,IAAD,CAAQC,QArBa,4CAqBrB","sources":["webpack://sty-my-games/./src/pages/login/index.js"],"sourcesContent":["import { Link } from 'gatsby';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nimport { loginUser } from '../../functions/db';\r\nimport { setUser } from '../../reducers/authReducer';\r\n\r\nconst Login = ({ user, setUser }) => {\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    async function attemptLogin() {\r\n        if (loading) return;\r\n        setLoading(true);\r\n        try {\r\n            const { email, displayName } = await loginUser();\r\n            if (email) {\r\n                setUser({\r\n                    email,\r\n                    displayName,\r\n                });\r\n            }\r\n        } catch {}\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {!user ? (\r\n                <Button onClick={attemptLogin}>Login</Button>\r\n            ) : (\r\n                <React.Fragment>\r\n                    <Link to='/'>\r\n                        <Button>Return to App!</Button>\r\n                    </Link>\r\n                </React.Fragment>\r\n            )}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setUser,\r\n};\r\n\r\nfunction mapStateToProp({ auth }) {\r\n    return {\r\n        user: auth.user,\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProp, mapDispatchToProps)(Login);\r\n"],"names":["mapDispatchToProps","setUser","connect","user","auth","React","loading","setLoading","loginUser","email","displayName","Link","to","onClick"],"sourceRoot":""}